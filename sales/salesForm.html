<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title></title>

<style>
form { display: block; margin: 20px auto; background: #eee; border-radius: 10px; padding: 15px }
#progress { position:relative; width:400px; border: 1px solid #ddd; padding: 1px; border-radius: 3px; }
#bar { background-color: #B4F5B4; width:0%; height:20px; border-radius: 3px; }
#percent { position:absolute; display:inline-block; top:3px; left:48%; }
</style>

<script class="jsbin" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<script class="jsbin" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.0/jquery-ui.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
<script src="http://malsup.github.com/jquery.form.js"></script> <!--form plugin-->

<!-- <?php
// define variables and set to empty values
$name = $email = $gender = $comment = $website = "" ;

if ($_SERVER["REQUEST_METHOD"] == "POST") {
  $address = test_input($_POST["address"]);
  $city = test_input($_POST["city"]);
  $postal = test_input($_POST["postal"]);
  $rooms = test_input($_POST["rooms"]);
  $baths = test_input($_POST["baths"]);
  $description = test_input($_POST["description"]);
  $squareF = test_input($_POST["squareF"]);
  $Price = test_input($_POST["Price"]);
}

function test_input($data) {
  $data = trim($data);
  $data = stripslashes($data);
  return $data;
}
?>-->
<script>

// validate form before sending to server ======================================================================


//allow the user to view image before upload =====================================================================

function readURL(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();
document.getElementById("myimg").innerHTML = "<img id=image src=# alt=your image />";
                reader.onload = function (e) {
                    $('#image')
                        .attr('src', e.target.result)
                        .width(370)
                        .height(220);
                };

                reader.readAsDataURL(input.files[0]);
            }
        }
        
// display upload progress, provide options to ajaxForm to get callbacks like success,error, uploadProgress and beforeSend
//http://malsup.com/jquery/form/  ===============================================================================================================
/*beforeSend : this function called before form submission
uploadProgress : this function called when the upload is in progress
success : this function is called when the form upload is successful.
complete: this function is called when the form upload is completed.*/

$(document).ready(function()
{
 
    var options = { 
    beforeSend: function() 
    {
        $("#progress").show();
        //clear everything
        $("#bar").width('0%');
        $("#message").html("");
        $("#percent").html("0%");
    },
    uploadProgress: function(event, position, total, percentComplete) 
    {
        $("#bar").width(percentComplete+'%');
        $("#percent").html(percentComplete+'%');
 
    },
    success: function() 
    {
        $("#bar").width('100%');
        $("#percent").html('100%');
 
    },
    complete: function(response) 
    {
        $("#message").html("<font color='green'>"+response.responseText+"</font>");
    },
    error: function()
    {
        $("#message").html("<font color='red'> ERROR: unable to upload files</font>");
 
    }
 
}; 
 
     $("#myForm").ajaxForm(options);
 
});


// submit inputs =========================================================================================================

function upload() {

//the $.post is only use if the <input are String and Integer, not for FILE. Otherwise use Formtags
//below uses ID tags. Form uses NAME tags
      /*  $.post("salesForm.php",
                    {
                        
                        add: $("#address").val(),
                        city: $("#city").val(),
                        pos: $("#postal").val(),                      
                        rm: $("#rooms").val(),
                        bth: $("#baths").val(),
                        descp: $("#description").val(),
                        sqft: $("#squareF").val(),
                        price: $("#Price").val()
                      
                        //query: "Select * from formTest"     it's already assigned on the php'
                    }
                    , display
                );*/
// clear inputs and preview image once upload button is clicked==================================================================================
		
document.getElementById("myForm").getElementsByTagName("address").value ="";
document.getElementById("myForm").getElementsByTagName("city").value ="";
document.getElementById("myForm").getElementsByTagName("postal").value ="";
document.getElementById("myForm").getElementsByTagName("rooms").value ="";
document.getElementById("myForm").getElementsByTagName("baths").value ="";
document.getElementById("myForm").getElementsByTagName("description").value ="";
document.getElementById("myForm").getElementsByTagName("squareF").value ="";
document.getElementById("myForm").getElementsByTagName("Price").value ="";
document.getElementById("myForm").getElementsByTagName("myfile").value = "";
document.getElementById("myimg").innerHTML = "";
                            
 // testing -- display user input variables ==========================================================================           
            
            function display(dataFromtheServer) {
                $("#result").append(dataFromtheServer);
            }
            
           /* function dispImg(dataFromtheServer) {
                $("#img").append(dataFromtheServer);
            }*/
    }
	
</script>

<!--<?php
// define variables and set to empty values
$name = $email = $gender = $comment = $website = "" ;

if ($_SERVER["REQUEST_METHOD"] == "POST") {
  $name = test_input($_POST["name"]);
  $email = test_input($_POST["email"]);
  $website = test_input($_POST["website"]);
  $comment = test_input($_POST["comment"]);
  $gender = test_input($_POST["gender"]);
}

function test_input($data) {
  $data = trim($data);
  $data = stripslashes($data);
  $data = htmlspecialchars($data);
  
  $data = null file.....
  
  
  return $data;
}
?>-->

</head>
<body>
<h2>New Sales Post Example</h2>
<!--<form method="post" action="<?php echo htmlspecialchars($_SERVER["PHP_SELF"]);?>  -->
<form id="myForm" action="salesForm.php" method="post" enctype="multipart/form-data">
<label>Address: <input name="address" type="text" required /></label><br><br>
<label>City: <input name="city" type="text" required/></label><br><br>
<label>Postal Code: <input name="postal" type="text" required/></label><br><br>
<label>Number of Rooms: <input name="rooms" type="number" required/></label><br><br> 
<label>Number of Baths: <input name="baths" type="number" required/></label><br><br>
<label>Description: <input name="description" type="text" required/></label><br><br>
<label>SQ FT: <input name="squareF" type="number" required/></label><br><br>
<label>Price: <input name="Price" type="number" required/></label><br><br>
<label>Image: <input type="file" name="myfile" onchange="readURL(this);" required/></label><br><br>
     
<!--<label>Image: <input type="file" name="image" onchange="readURL(this);"/></label><br><br>--><!--accepts all images format image/*    
http://www.html5rocks.com/en/tutorials/file/dndfiles/ 
https://scotch.io/tutorials/use-the-html5-file-api-to-work-with-files-locally-in-the-browser    
http://hayageek.com/ajax-file-upload-jquery/ -->

<input type="submit" onclick="upload()" value="Submit">
<!--<button onclick="upload()" >up</button-->
 </form>
 <!--</form>-->
  <p></p>
 <div id="progress">
        <div id="bar"></div>
        <div id="percent">0%</div >
 </div>
 <br/>
 <div id="message"></div><br>
  <div id="result"></div>
  <div id="myimg"></div>


</body>
</html>