<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!--
http://tympanus.net/Development/SelectInspiration/index.html

-->

<html>
<head>
<title></title>

<style>
h1{
	font-size: 30px;
/*	margin: 8px;*/
}
input, textarea {
    width: 100%;
    padding: 8px 4px;
    margin: 2px 0; /*the gap between the top*/
    display: inline-block;
    border: 1px solid #ccc;
    border-radius: 4px; /*making the border curve*/
    box-sizing: border-box;
    
}

input[type=text]:focus,[type=number]:focus {
    background-color: lightblue;
}


input[type=submit] {
    width: 100.5%;
    background-color: #4CAF50;
    color: white;
    padding: 12px 20px; /*14 is the depth 20 is the width of the button*/
    margin: 2px 0;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

input[type=submit]:hover {
    background-color: #45a049;
}

#myimg  {
    border-radius: 10px;
    text-align: center;
    display: block;
    margin: 8px;
    width: 100%;
    padding: 0px;
}

/*body {
    background-color: cyan;
}*/






form { display: block; margin: 0 500px; background: #3CBC8D; border-radius: 10px; padding: 20px }
#progress { position:relative; width:100%; border: 1px solid #ddd; padding: 1px; border-radius: 10px; }
#bar { background-color: #B4F5B4; width:0%; height:30px; border-radius: 10px; }
#percent { position:absolute; display:inline-block; top:6px; left:48%; }
</style>

<script class="jsbin" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<script class="jsbin" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.0/jquery-ui.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
<script src="http://malsup.github.com/jquery.form.js"></script> <!--form plugin-->

<!-- <?php
// define variables and set to empty values
$name = $email = $gender = $comment = $website = "" ;

if ($_SERVER["REQUEST_METHOD"] == "POST") {
  $address = test_input($_POST["address"]);
  $city = test_input($_POST["city"]);
  $postal = test_input($_POST["postal"]);
  $rooms = test_input($_POST["rooms"]);
  $baths = test_input($_POST["baths"]);
  $description = test_input($_POST["description"]);
  $squareF = test_input($_POST["squareF"]);
  $Price = test_input($_POST["Price"]);
}

function test_input($data) {
  $data = trim($data);
  $data = stripslashes($data);
  return $data;
}
?>-->
<script>

// validate form before sending to server ======================================================================


//allow the user to view image before upload =====================================================================

function readURL(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();
document.getElementById("myimg").innerHTML = "<img id=image src=# alt=your image />";
                reader.onload = function (e) {
                    $('#image')
                        .attr('src', e.target.result)
                        .width(370)
                        .height(220);
                };
 	/*$.post("salesForm.php",{filePath: $("#file").val()}); //post file path to php*/
                reader.readAsDataURL(input.files[0]);
            }
        }
        
// display upload progress, provide options to ajaxForm to get callbacks like success,error, uploadProgress and beforeSend
//http://malsup.com/jquery/form/  ===============================================================================================================
/*beforeSend : this function called before form submission
uploadProgress : this function called when the upload is in progress
success : this function is called when the form upload is successful.
complete: this function is called when the form upload is completed.*/

$(document).ready(function()
{
 
    var options = { 
    beforeSend: function() 
    {
        $("#progress").show();
        //clear everything
        $("#bar").width('0%');
        $("#message").html("");
        $("#percent").html("0%");
    },
    uploadProgress: function(event, position, total, percentComplete) 
    {
        $("#bar").width(percentComplete+'%');
        $("#percent").html(percentComplete+'%');
 
    },
    success: function() 
    {
        $("#bar").width('100%');
        $("#percent").html('100%');
 
    },
    complete: function(response) 
    {
        $("#message").html("<font color='green'>"+response.responseText+"</font>");
    },
    error: function()
    {
        $("#message").html("<font color='red'> ERROR: unable to upload files</font>");
 
    }
 
}; 
 
     $("#myForm").ajaxForm(options);
 
});



// submit inputs =========================================================================================================

function upload() {

//the $.post is only use if the <input are String and Integer, not for FILE. Otherwise use Formtags
//below uses ID tags. Form uses NAME tags
      /*  $.post("salesForm.php",
                    {
                        
                        add: $("#address").val(),
                        city: $("#city").val(),
                        pos: $("#postal").val(),                      
                        rm: $("#rooms").val(),
                        bth: $("#baths").val(),
                        descp: $("#description").val(),
                        sqft: $("#squareF").val(),
                        price: $("#Price").val()
                      
                        //query: "Select * from formTest"     it's already assigned on the php'
                    }
                    , display
                );*/
                
// ====================================     post img path to php    =============================
/*                
             $.post("salesForm.php",
                    {
                        
                        add: $("#address").val(),
                        city: $("#city").val(),
                        pos: $("#postal").val(),                      
                        rm: $("#rooms").val(),
                        bth: $("#baths").val(),
                        descp: $("#description").val(),
                        sqft: $("#squareF").val(),
                        price: $("#Price").val()
                      
                        //query: "Select * from formTest"     it's already assigned on the php'
                    }
                    , display
                );   
                
                */
                
                
// clear inputs and preview image once upload button is clicked==================================================================================
/*
	document.getElementById("ad").value ="";  
	document.getElementById("city").value ="";
	document.getElementById("pos").value ="";
	document.getElementById("rm").value ="";
	document.getElementById("bh").value ="";
	document.getElementById("descp").value ="";
	document.getElementById("sf").value ="";
	document.getElementById("price").value ="";
	document.getElementById("file").value = "";
		*/
/*document.getElementById("myForm").getElementsByTagName("address").value ="";
document.getElementById("myForm").getElementsByTagName("city").value ="";
document.getElementById("myForm").getElementsByTagName("postal").value ="";
document.getElementById("myForm").getElementsByTagName("rooms").value ="";
document.getElementById("myForm").getElementsByTagName("baths").value ="";
document.getElementById("myForm").getElementsByTagName("description").value ="";
document.getElementById("myForm").getElementsByTagName("squareF").value ="";
document.getElementById("myForm").getElementsByTagName("Price").value ="";
document.getElementById("file").value = "";*/
document.getElementById("myimg").innerHTML = "";
                            
 // testing -- display user input variables ==========================================================================           
     /*       
            function display(dataFromtheServer) {
                $("#result").append(dataFromtheServer);
            }*/
            
           /* function dispImg(dataFromtheServer) {
                $("#img").append(dataFromtheServer);
            }*/
    }
	
</script>

<!--<?php
// define variables and set to empty values
$name = $email = $gender = $comment = $website = "" ;

if ($_SERVER["REQUEST_METHOD"] == "POST") {
  $name = test_input($_POST["name"]);
  $email = test_input($_POST["email"]);
  $website = test_input($_POST["website"]);
  $comment = test_input($_POST["comment"]);
  $gender = test_input($_POST["gender"]);
}

function test_input($data) {
  $data = trim($data);
  $data = stripslashes($data);
  $data = htmlspecialchars($data);
  
  $data = null file.....
  
  
  return $data;
}
?>-->

</head>
<body>
<form id="myForm" action="salesEditable.php" method="post" enctype="multipart/form-data">
<h1>New Sales Post</h1>
<!--<form method="post" action="<?php echo htmlspecialchars($_SERVER["PHP_SELF"]);?>  -->

<label>Address:<br> <input name="address" id="ad" type="text" placeholder="Street address" required /></label><br><br>
<label>City:<br> <input name="city" id="city" type="text" placeholder="City" required/></label><br><br>
<label>Postal Code:<br> <input name="postal" id="pos" type="text" placeholder="Postal code" required/></label><br><br>
<label>Number of Rooms:<br> <input name="rooms" id="rm" type="number" placeholder="Number of rooms" required/></label><br><br> 
<label>Number of Baths:<br> <input name="baths" id="bh" type="number" placeholder="Number of baths" required/></label><br><br>
<label>SQ FT:<br> <input name="squareF" id="sf" type="number" placeholder="Square feet" required/></label><br><br>
<label>Price:<br> <input name="Price" id="price" type="number" placeholder="Price" required/></label><br><br>
<label>Description:<br></label><textarea name="description" id="descp" form="myForm" rows="5" cols="50" name="comment" placeholder="Enter description of property here..." form="usrform"></textarea><p></p>
<label>Image:<br> <input type="file" id="file" name="myfile" placeholder="Select image" onchange="readURL(this);" required/></label><p></p>
<div id="progress">
        <div id="bar"></div>
        <div id="percent">0%</div >
 </div>
<!--<label>Description:<br> <input name="description" id="descp" type="" placeholder="Description of property" required/></label><br><br>
--> 
<!--<label>Image: <input type="file" name="image" onchange="readURL(this);"/></label><br><br>--><!--accepts all images format image/*    
http://www.html5rocks.com/en/tutorials/file/dndfiles/ 
https://scotch.io/tutorials/use-the-html5-file-api-to-work-with-files-locally-in-the-browser    
http://hayageek.com/ajax-file-upload-jquery/ -->
<div id="myimg"></div>
<input type="submit" onclick="upload()" value="Submit">
 
<!--<button onclick="upload()" >up</button-->
 
 <br/>
 
 </form>

 <!--</form>-->
<span id="message"></span><br>
  
  <div id="result"></div>

</body>
</html>